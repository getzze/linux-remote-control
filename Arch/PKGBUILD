# $Id$
# Maintainer: getzze <getzze@gmail.com>

pkgname=linux-remote-control
pkgdesc="Turn any device into a complete remote control for your GNU/Linux."
pkgver=0.4
pkgrel=1
arch=('i686' 'x86_64')
url='http://www.linuxremotecontrol.com'
license=('GPL3')
depends=('nodejs' 'xdotool' 'xorg-xbacklight')
optdepends=('apache: http server')
source=('lrc::git+https://github.com/getzze/linux-remote-control.git#branch=archlinux'
        'lrc.service'
        'apache.example.conf')
md5sums=('SKIP'
         '05dd1b6a2ecf28184c9342b5a23a5fbb'
         'a2990948fbba400b230c0a76cce2012b')
install=($pkgname.install)
options=(!emptydirs)

build() {
  cd "${srcdir}"
}

package() {
  cd "${srcdir}/lrc"
  mkdir -p "${pkgdir}"/srv/http/
  cp -R opt/lrc-client "${pkgdir}"/srv/http/.
  chown -R http:http "${pkgdir}"/srv/http/lrc-client
  mkdir -p "${pkgdir}"/opt/
  cp -R opt/lrc-server "${pkgdir}"/opt/.

  mkdir -p "${pkgdir}"/etc/webapps/lrc-client/
  install -Dm644 "${srcdir}"/apache.example.conf "${pkgdir}"/etc/webapps/lrc-client/

  mkdir -p "${pkgdir}/usr/lib/systemd/user/"
  install -Dm644 "${srcdir}"/lrc.service "${pkgdir}/usr/lib/systemd/user/"
}


